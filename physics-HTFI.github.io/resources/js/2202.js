"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[2202],{2202:(t,e,i)=>{i.r(e),i.d(e,{spec:()=>_});var a=i(1550),s=i(2866);let l,r,n=0;const p=1/(4*Math.PI),c=new a.V([0,0,1]);class d{constructor(t,e){this.slices=[new a.p2(2),new a.p2(2)],this.vpara=t.vpara,this.vperp=t.vperp,this.type=t.type,this.peak_u=t.peak_u,this.peak_dudt=t.peak_dudt;const i=[[],[]],d=a.ay.Ball(.02,2);for(let t=0;t<441;t++)i[0].push(0===t?d:d.createInstance("ball_0"+t)),i[1].push(d.createInstance("ball_1"+t));this.draw=t=>{l=n>0||!(n<0)&&l,this.slices[0].setEnabled(!0),this.slices[1].setEnabled(r),this.slices[0].setDirection(l?2:0),this.slices[1].setDirection(l?0:1),r?(this.slices[0].setOffset(l?[-1+n,0,-n]:[-n,-1-n,0]),this.slices[1].setOffset(l?[n,0,1-n]:[-1-n,-n,0])):this.slices[0].setOffset(l?[0,0,n]:[-n,0,0]),this.slices.forEach(((e,l)=>{e.getPos(21).forEach(((r,n)=>{if(i[l][n].setEnabled(e.frame.isEnabled()),!e.frame.isEnabled())return;const d=((t,e,i,l,r,n,d)=>{const o=e.len3();if(o<1e-5){if(0==r||1==r)return a.V.Zero(3);{const e=-1/(6*Math.PI);if(void 0!==n){const a=e*(s.i.Delta_dd(i*t,n.w)+2*s.i.Delta_dd(l*t,n.w));return c.scale(a*n.h)}if(void 0!==d){const a=e*(s.i.Delta_d(i*t,d.w)/i+2*s.i.Delta_d(l*t,d.w)/l);return c.scale(a*d.h)}}}const h=e.unit3();if(0==r||1==r){const e=0==r?i:l;let a=0;return void 0!==n&&(a+=n.h*p/(o*o)*(s.i.Delta_d(o+e*t,n.w)+s.i.Delta_d(o-e*t,n.w)),a+=-n.h*p/o*(s.i.Delta_dd(o+e*t,n.w)+s.i.Delta_dd(o-e*t,n.w))),void 0!==d&&(a+=d.h*p/(e*o*o)*(s.i.Delta(o+e*t,d.w)-s.i.Delta(o-e*t,d.w)),a+=-d.h*p/(e*o)*(s.i.Delta_d(o+e*t,d.w)-s.i.Delta_d(o-e*t,d.w))),0==r?h.scale(a):c.cross3(h).scale(a)}{let e=0,a=0,r=0,_=0;const w=o*o,u=w*o;if(void 0!==n){const a=(s.i.Delta_i(o+i*t,n.w)+s.i.Delta_i(o-i*t,n.w))/u,p=(s.i.Delta(o+i*t,n.w)+s.i.Delta(o-i*t,n.w))/w,c=(s.i.Delta_d(o+i*t,n.w)+s.i.Delta_d(o-i*t,n.w))/o,d=(s.i.Delta_i(o+l*t,n.w)+s.i.Delta_i(o-l*t,n.w))/u,h=(s.i.Delta(o+l*t,n.w)+s.i.Delta(o-l*t,n.w))/w,_=(s.i.Delta_d(o+l*t,n.w)+s.i.Delta_d(o-l*t,n.w))/o;e+=-3*a+3*p-c,e+=3*d-3*h+_,e*=n.h,r+=a-p,r+=-d+h-_,r*=n.h}if(void 0!==d){const e=(s.i.Delta_ii(o+i*t,d.w)-s.i.Delta_ii(o-i*t,d.w))/u,r=(s.i.Delta_i(o+i*t,d.w)-s.i.Delta_i(o-i*t,d.w))/w,n=(s.i.Delta(o+i*t,d.w)-s.i.Delta(o-i*t,d.w))/o,p=(s.i.Delta_ii(o+l*t,d.w)-s.i.Delta_ii(o-l*t,d.w))/u,c=(s.i.Delta_i(o+l*t,d.w)-s.i.Delta_i(o-l*t,d.w))/w,h=(s.i.Delta(o+l*t,d.w)-s.i.Delta(o-l*t,d.w))/o;a+=(-3*e+3*r-n)/i,a+=(3*p-3*c+h)/l,a*=d.h,_+=(e-r)/i,_+=(-p+c-h)/l,_*=d.h}return h.scale(p*(e+a)*h.dot36(c)).plus(c.scale(p*(r+_)))}})(t,r,this.vpara,this.vperp,this.type,this.peak_u,this.peak_dudt);i[l][n].position=r.plus(d).to_Vector3()}))}))}}}let o;const h=()=>{a.jG.set_3D(3.5,.8,.35),n=0,n=0,l=!0,r=!0,void 0!==o&&(o.value=n.toString())},_={title:"ナヴィエ方程式の解",comment:"",cases:[{title:"初期変位を与えた場合（z方向）",setup:h,init:[{vpara:1,vperp:.5,type:2,peak_u:{x:a.V.Zero(3),h:-.05,w:5},peak_dudt:void 0}],config:{restart_time:4.5}},{title:"同（縦波のみ）",setup:h,init:[{vpara:1,vperp:.5,type:0,peak_u:{x:a.V.Zero(3),h:.02,w:3},peak_dudt:void 0}],config:{restart_time:2.5}},{title:"同（横波のみ）",setup:h,init:[{vpara:1,vperp:.5,type:1,peak_u:{x:a.V.Zero(3),h:.15,w:2},peak_dudt:void 0}],config:{restart_time:4.5}},{title:"初期速度を与えた場合（z方向）",setup:h,init:[{vpara:1,vperp:.5,type:2,peak_u:void 0,peak_dudt:{x:a.V.Zero(3),h:.25,w:5}}],config:{restart_time:4.5}},{title:"同（縦波のみ）",setup:h,init:[{vpara:1,vperp:.5,type:0,peak_u:void 0,peak_dudt:{x:a.V.Zero(3),h:-.03,w:5}}],config:{restart_time:2.5}},{title:"同（横波のみ）",setup:h,init:[{vpara:1,vperp:.5,type:1,peak_u:void 0,peak_dudt:{x:a.V.Zero(3),h:.15,w:3}}],config:{restart_time:4.5}}],config:{start_wait:.2},init:()=>{o=void 0},controls:[{type:"label",text:"スライス"},[{type:"radio",name:"slice",text:"1面",checked:()=>!r,changedToChecked:()=>r=!1},{type:"radio",name:"slice",text:"2面",checked:()=>r,changedToChecked:()=>r=!0}],{type:"slider",text:"位置",value:()=>({value:n,min:-1,max:1,step:.05}),input:(t,e)=>{n=t,o=e}}],screenshot:{case:0,first_frame_sec:0,end_sec:2,fps:20},generator:(t,e)=>new d(t,e)}},2866:(t,e,i)=>{i.d(e,{i:()=>a});class a{}a.Delta_ii=(t,e)=>.5*(1/e*Math.log(Math.cosh(e*t))+t),a.Delta_i=(t,e)=>.5*(1+Math.tanh(e*t)),a.Delta=(t,e)=>{const i=Math.tanh(e*t);return e/2*(1-i*i)},a.Delta_d=(t,e)=>{const i=Math.tanh(e*t);return-e*e*i*(1-i*i)},a.Delta_dd=(t,e)=>{const i=Math.tanh(e*t);return-e*e*e*(1-3*i*i)*(1-i*i)},a.Delta_ddd=(t,e)=>{const i=Math.tanh(e*t);return 4*e*e*e*e*i*(2-3*i*i)*(1-i*i)},a.SetRGB=(t,e,i)=>{const a=i<.5?2*i:1,s=i<.5?2*i:2-2*i,l=i<.5?1:2-2*i,r=t=>Math.max(0,Math.min(255,Math.floor(256*t)));t[3*e+0]=r(a),t[3*e+1]=r(s),t[3*e+2]=r(l)}}}]);