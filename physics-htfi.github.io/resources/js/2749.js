"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[2749],{2749:(t,s,e)=>{e.r(s),e.d(s,{spec:()=>o});var a=e(1550);const i=(t,s)=>s[0]*Math.sin(s[1]*t),h=(t,s)=>s[0]*s[1]*Math.cos(s[1]*t);class n{constructor(t,s){this.Gs={num_constraints:5,M:new a.V([1,1,1]),G:(t,s,e)=>((t,s,e,n)=>0==t?{G:e.z-i(s,n),G_t:-h(s,n),G_x:new a.V([0,0,1])}:1==t?{G:e.x+2,G_t:0,G_x:new a.V([1,0,0])}:2==t?{G:2-e.x,G_t:0,G_x:new a.V([-1,0,0])}:3==t?{G:e.y+2,G_t:0,G_x:new a.V([0,1,0])}:4==t?{G:2-e.y,G_t:0,G_x:new a.V([0,-1,0])}:void 0)(t,s,e,this.a)},this.reset=()=>this.X=this.X0.clone(),this.proceed=(t,s)=>this.X=a.ME.RK4_collision(t,this.X,a.ME.dXdt_g,s,this.Gs),this.E=t=>(0,a.uZ)(this.X,1),this.a=t.a,this.ball=a.ay.Ball(.1,s),this.is_master=0==s,this.X0=new a.V([...t.x0,...t.v0]),this.X=this.reset()}draw(t){this.ball.position=this.X.to_Vector3(),this.is_master&&c.forEach((s=>a.ay.UpdateZ(s,((s,e)=>i(t,this.a)))))}}let c;const r=()=>{a.jG.set_2D(4.6,new a.V([0,0,1]).to_Vector3()),a.ay.Ground(2),c=[a.ay.Curve(-2,2,2)]},x=[.1,7],o={title:"動く床との衝突",comment:"太いグリッドの間隔: 1m",cases:[{title:"3次元",setup:()=>{a.jG.set_3D(6,.5,.4),c=a.ay.Surface([-2,-2],[2,2],[2,2]).getChildMeshes().map((t=>t))},init:[{x0:[-1,0,.8],v0:[1.5,1,0],a:x},{x0:[-.5,0,.9],v0:[1.5,1,0],a:x},{x0:[0,0,1],v0:[1.5,1,0],a:x},{x0:[.5,0,1.1],v0:[1.5,1,0],a:x},{x0:[1,0,1.2],v0:[1.5,1,0],a:x}]},{title:"2次元（移動しない）",setup:r,init:[{x0:[-1,0,.8],v0:[0,0,0],a:x},{x0:[-.5,0,.9],v0:[0,0,0],a:x},{x0:[0,0,1],v0:[0,0,0],a:x},{x0:[.5,0,1.1],v0:[0,0,0],a:x},{x0:[1,0,1.2],v0:[0,0,0],a:x}]},{title:"同（移動する）",setup:r,init:[{x0:[-1,0,.8],v0:[1,0,0],a:x},{x0:[-.5,0,.9],v0:[1,0,0],a:x},{x0:[0,0,1],v0:[1,0,0],a:x},{x0:[.5,0,1.1],v0:[1,0,0],a:x},{x0:[1,0,1.2],v0:[1,0,0],a:x}]}],screenshot:{case:0,first_frame_sec:0,end_sec:2,fps:20},generator:(t,s)=>new n(t,s)}}}]);