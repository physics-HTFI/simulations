"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[6249],{6249:(t,s,e)=>{e.r(s),e.d(s,{spec:()=>x});var i=e(1550);let n;const[o,a]=[.3,5],h=t=>o*Math.cos(a*t),c=t=>-o*a*Math.sin(a*t),r=t=>-o*a*a*Math.cos(a*t),l={M:new i.V([1,1,1]),F_ext:(t,s)=>i.g.scale(1),diff_G:(t,s)=>{const[e,n]=s.split3(),o=new i.V([0,0,h(t)]),a=new i.V([0,0,c(t)]),l=new i.V([0,0,r(t)]),d=e.minus(o).scale(1),_=n.minus(a).scale(1);return{G_x:new i.M(1,3,d.dat),ddt_G_t:new i.V([-_.dot36(a)-d.dot36(l)]),ddt_G_x:new i.M(1,3,_.dat),G_xx:void 0,G_tt:void 0,G_tx:void 0}}};class d{constructor(t,s){this.dXdt=(t,s)=>(0,i.iO)(s,this.F(t,s),1),this.line=i.ay.Curve(0,1,2),this.arrow_g=i.ay.Arrow(0),this.arrow_c=i.ay.Arrow(0),this.reset=()=>this.X=this.X0.clone(),this.proceed=(t,s)=>this.X=i.ME.RK4_free(t,this.X,this.dXdt,s),this.E=t=>this.X.slice3(0).minus(new i.V([0,0,h(t)])).len3(),this.X0=new i.V([...t.x0,...t.v0]),this.X=this.reset(),this.F=i.ME.F_constrained(l),this.ball=i.ay.Ball(.1,s,!1)}draw(t){const s=this.X.slice3(0);this.ball.position=s.to_Vector3(),this.arrow_g.setEnabled(n),this.arrow_c.setEnabled(n);const e=i.g.scale(1),o=this.F(t,this.X).minus(e);i.ay.Set_ArrowPosition(this.arrow_g,s,e,.01),i.ay.Set_ArrowPosition(this.arrow_c,s,o,.01);const a=h(t);i.ay.UpdateCurve(this.line,[0,0,a,...this.X.slice3(0).dat]),_.position.z=a,null!==w&&(w.position.z=a)}}let _,w=null;const u=()=>{i.jG.set_2D(4),i.ay.Ground(2),w=null,_=i.ay.FixedPoint(.04,!1)},x={title:"強制振り子",comment:"球の半径: 1m",cases:[{title:"3次元",setup:()=>{i.jG.set_3D(3.5,0,.4),w=i.ay.SphereGround(1,.5,10,20),_=i.ay.FixedPoint(.05,!0)},init:[{x0:[1*Math.cos(1.1),0,1*-Math.sin(1.1)+o],v0:[0,1,0]},{x0:[1*Math.cos(1.2),0,1*-Math.sin(1.2)+o],v0:[0,1,0]},{x0:[1*Math.cos(1.3),0,1*-Math.sin(1.3)+o],v0:[0,1,0]},{x0:[1*Math.cos(1.4),0,1*-Math.sin(1.4)+o],v0:[0,1,0]},{x0:[1*Math.cos(1.5),0,1*-Math.sin(1.5)+o],v0:[0,1,0]}]},{title:"2次元",setup:u,init:[{x0:[0,0,-1+o],v0:[.1,0,0]},{x0:[0,0,-1+o],v0:[.3,0,0]},{x0:[0,0,-1+o],v0:[.5,0,0]}]},{title:"同（長さが異なると共振しない）",setup:u,init:[{x0:[0,0,-1+o],v0:[.5,0,0]},{x0:[0,0,-.5],v0:[.5,0,0]}]}],init:()=>n=!1,controls:[{type:"check",text:"力を表示",checked:()=>n,change:t=>n=t,color:"#f00"}],screenshot:{case:0,first_frame_sec:0,end_sec:2,fps:20},generator:(t,s)=>new d(t,s)}}}]);