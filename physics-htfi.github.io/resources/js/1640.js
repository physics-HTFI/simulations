"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[1640],{1640:(t,e,a)=>{a.r(e),a.d(e,{spec:()=>d});var s=a(1550),i=a(2866);const h=(t,e,a,s,h)=>{let r=0;return s.forEach((s=>r+=.5*s.h*(i.i.Delta(e-s.x+a*t,s.w)+i.i.Delta(e-s.x-a*t,s.w)))),h.forEach((s=>r+=.5*s.h/a*(i.i.Delta_i(e-s.x+a*t,s.w)-i.i.Delta_i(e-s.x-a*t,s.w)))),r};class r{constructor(t,e){this.dat=new Uint8Array(3*c*1),this.z=t.z,this.v=t.v,this.peak_u=t.peak_u,this.peak_dudt=t.peak_dudt,this.lines=s.ay.Curves(c,2,0),this.arrows=[];const a=s.ay.Arrow(2);for(let t=0;t<c;t++){const t=0===this.arrows.length?a:a.clone();s.ay.ShadowOnOff(t,!0),this.arrows.push(t)}const r=s.ay.Material("plus",0),n=s.ay.Material("minus",2),d=2*o/(c-1),{plane:l,texture:p}=s.ay.RawTexturePlane(this.dat,2*o+d,o/8,c,1,s.V.Zero(3));l.rotation.x=-Math.PI/2,l.position.z=this.z,l.visibility=.5;const[w,_]=[-.17,.17];this.draw=t=>{l.setEnabled(u);const e=[];for(let a=0;a<c;a++){const u=2*a*o/(c-1)-o,d=h(t,u,this.v,this.peak_u,this.peak_dudt);i.i.SetRGB(this.dat,a,(d-w)/(_-w)),e.push(u+.5*d,0,this.z+o/16,u+.5*d,0,this.z-o/16),s.ay.Set_ArrowPosition(this.arrows[a],new s.V([u,0,this.z+o/12]),new s.V([.5*d,0,0]),1);const l=d<0?n:r;this.arrows[a].material!==l&&(this.arrows[a].material=l)}s.ay.UpdateCurve(this.lines,e),p.update(this.dat)}}}const n=()=>{s.jG.set_2D(2*o+.15),s.ay.Ground(2)},o=.5,c=49;let u;const d={title:"縦波の伝播",comment:"赤は右向きの変位、青は左",cases:[{title:"初期変位のみ",setup:n,init:[{z:o/2,v:.1,peak_u:[{x:0,h:o/30,w:10/o}],peak_dudt:[]},{z:0,v:.1,peak_u:[{x:-o/2,h:o/30,w:10/o},{x:o/2,h:o/30,w:10/o}],peak_dudt:[]},{z:-o/2,v:.1,peak_u:[{x:-o/2,h:o/30,w:10/o},{x:o/2,h:-o/30,w:10/o}],peak_dudt:[]}]},{title:"初期速度のみ",setup:n,init:[{z:o/2,v:.1,peak_u:[],peak_dudt:[{x:0,h:o/30,w:10/o}]},{z:0,v:.1,peak_u:[],peak_dudt:[{x:-o/2,h:o/30,w:10/o},{x:o/2,h:o/30,w:10/o}]},{z:-o/2,v:.1,peak_u:[],peak_dudt:[{x:-o/2,h:o/30,w:10/o},{x:o/2,h:-o/30,w:10/o}]}]}],config:{start_wait:.2,restart_time:9},init:()=>{u=!0},controls:[{type:"check",text:"ヒートマップ",checked:()=>u,change:t=>u=t}],screenshot:{case:0,first_frame_sec:0,end_sec:2,fps:20},generator:(t,e)=>new r(t,e)}},2866:(t,e,a)=>{a.d(e,{i:()=>s});class s{}s.Delta_ii=(t,e)=>.5*(1/e*Math.log(Math.cosh(e*t))+t),s.Delta_i=(t,e)=>.5*(1+Math.tanh(e*t)),s.Delta=(t,e)=>{const a=Math.tanh(e*t);return e/2*(1-a*a)},s.Delta_d=(t,e)=>{const a=Math.tanh(e*t);return-e*e*a*(1-a*a)},s.Delta_dd=(t,e)=>{const a=Math.tanh(e*t);return-e*e*e*(1-3*a*a)*(1-a*a)},s.Delta_ddd=(t,e)=>{const a=Math.tanh(e*t);return 4*e*e*e*e*a*(2-3*a*a)*(1-a*a)},s.SetRGB=(t,e,a)=>{const s=a<.5?2*a:1,i=a<.5?2*a:2-2*a,h=a<.5?1:2-2*a,r=t=>Math.max(0,Math.min(255,Math.floor(256*t)));t[3*e+0]=r(s),t[3*e+1]=r(i),t[3*e+2]=r(h)}}}]);